<div class="container">
  <div class="row">
    <div class="col-md-10 col-lg-9 col-xl-8 mx-auto">
      <h2 class="mb-4">予定登録</h2>
      <%= form_with model: @event, url: events_path, local: true, class: "mb-3 pl-md-3" do |f| %>
        <div class="form-group row">
          <%= f.label "タイトル", class: "col-md-4 col-form-label" %>
          <div class="col-sm-6 col-md-4">
            <%= f.text_field :title, autofocus: true, class:"form-control" %>
          </div>
        </div>
        <div>
          <%= f.label "開始日時", class: "col-md-4 col-form-label" %>
          <div class="col-sm-6 col-md-4">
            <%= f.datetime_select :start_time, autofocus: true, class:"form-control" %>
          </div>
        </div>
        <div>
          <%= f.label "終了日時", class: "col-md-4 col-form-label" %>
          <div class="col-sm-6 col-md-4">
            <%= f.datetime_select :finish_time, autofocus: true, class:"form-control" %>
          </div>
        </div>
        <div>
          <%= f.label "概要", class: "col-md-4 col-form-label" %>
          <div class="col-sm-6 col-md-4">
            <%= f.text_area :overview, autofocus: true, class:"form-control" %>
          </div>
        </div>

        <%= form_with model: @attachment, class: 'dropzone', id: 'upload-dropzone' do %>
        <div class="fallback">
          <%= f.file_field :file %>
        </div>
        <% end %>

        <%= f.submit "予定を登録する", class: "col-md-4 col-form-label" %>
      <% end %>
    </div>
  </div>
</div>

<script>Dropzone.autoDiscover = false;

new Dropzone('#upload-dropzone', {
  uploadMultiple: false,
  paramName: 'attachment[file]',
  params: {
    'attachment[document_id]': 123
  },
  init: function() {
    return this.on('success', function(file, json) {});
  },
  dictDefaultMessage: '<i class="fa fa-file-o fa-2x"></i><br>\n<br>\nファイルをここにドロップするか<br>\nここをクリックして下さい'
});
// ---
// generated by coffee-script 1.9.2

@import 'compass/css3/border-radius';

.dropzone {
  border: 2px dashed #b4bcc2;
  @include border-radius(4px);

  .dz-message {
    font-size: 16px;
    text-align: center;
    margin: 0
  }
}
</script>